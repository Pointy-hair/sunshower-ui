template(bindable='router, toggleMenu, node')
    require(from='utils/bootstrap-tooltip')

    nav.navbar.navbar-inverse.navbar-fixed-top(role='navigation')
        .navbar-header
            button.navbar-toggle(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1')
                span.sr-only Toggle Navigation
                span.icon-bar
                span.icon-bar
                span.icon-bar
            a.navbar-brand(href='#')
                i.fa.fa-home
                span ${router.title}
        #bs-example-navbar-collapse-1.collapse.navbar-collapse
            ul.nav.navbar-nav
                li(repeat.for='row of router.parent.navigation', class="${row.isActive ? 'active' : ''}")
                    a.ion-network(data-toggle='collapse', data-target='#bs-example-navbar-collapse-1.in', href.bind='row.href')
                        span(style='padding-left:4px;') ${row.title}
            ul.nav.navbar-nav.navbar-right
                // <li class="loader" if.bind="router.isNavigating">
                // <i class="fa fa-spinner fa-spin fa-2x"></i>
                // </li>
                li
                    a.ion-edit(href='#', style='margin-right:20px;', click.delegate='toggleMenu()', bootstrap-tooltip='title: edit; placement: left')
    #wrapper
        #sidebar-wrapper
            ul.sidebar-nav
                li.sidebar-brand(repeat.for='row of router.navigation', class="${row.isActive ? 'sidebar-active' :''}")
                    a(route-href='route.bind: row.config.name;  params.bind:{id: node.id}', class='${row.settings.iconClass}', bootstrap-tooltip='title.bind: row.config.name; placement: top')

