//
   Created by dustinlish on 2/6/17.
template
    .ui.hidden.divider

    template(if.bind="!instances || instances.length == 0")
        h2.ui.center.aligned.icon.header
            i.circular.red.ion-ios-loop.icon.circular--icon.circular--icon_red
            //|   Welcome to Hasli.io! Browse some existing applications or create your own to deploy!
            |   Looks like you don't have any instances, create a new one!
        h4.ui.center.aligned.grey.header(if.bind="providers.length == 0")
            |   You'll need to add a cloud provider before deploying any instances
        .ui.centered.grid.container
            .ui.hidden.divider
            .ui.card.clickable(click.delegate="createInstance()")
                .content
                    .meta
                    .description
                        .ui.container.workspaces--image_container
                            img.blue(src='styles/themes/hasli/assets/images/icons/code-working.svg').workspaces--image_size
                    .ui.secondary.button
                                | + Create New Instance
            .ui.hidden.divider

    .ui.container(if.bind="instances && instances.length > 0")
        .ui.basic.segment
            h2.ui.header
                i.circular.red.ion-ios-loop.icon.circular--icon.circular--icon_red
                .content
                    |   Instances
        .ui.hidden.divider
        .ui.basic.segment
            .overview-widget
                .widget-action-menu
                    .ui.small.icon.input
                        input(type='text', placeholder='Search')
                        i.search.icon
                    .ui.small.basic.button.primary
                        | Actions
                        i.dropdown.icon
                    .ui.small.basic.button.primary
                        | Select: Type
                        i.dropdown.icon
                    span.widget-icons
                        .ui.small.button.primary(click.delegate="createInstance()") + Create New
                table.ui.very.basic.table.widget-table
                    thead
                        tr
                            th
                                //checkbox
                            th
                                //logo
                            th Provider
                            th Name
                            th Status
                            th IP
                            th ID
                            th
                                //stopstartrestart
                            th.right.aligned
                                i.big.blue.ion-ios-loop-strong.icon(
                                class="${loading ? 'loading' : ''}"
                                click.delegate="refresh()"
                                )
                                //settings
                    tbody
                        tr(if.bind="loading")
                            td.widget-table-reloading(colspan='9')
                                .ui.active.inverted.dimmer
                                    .ui.large.text.loader Reloading ...
                        tr(if.bind="instances.length == 0 && !loading")
                            td.widget-table-empty-alert(colspan='9') You have no instances
                        tr(
                        if.bind="instances.length > 0 && !loading",
                        repeat.for='instance of instances'
                        )
                            td
                                input(type="checkbox")
                            td
                                img.ui.image.tiny(
                                    if.bind="instance.logo",
                                    src="${instance.logo}"
                                    )
                            td
                                img.ui.image.tiny(
                                    if.bind="instance.provider && instance.provider.icon",
                                    src="${instance.provider.icon}"
                                )
                            td
                                | ${instance.name}
                            td
                                i.icon.status-circle(class="${computeStatus(instance)}")
                                | ${instance.state}
                            td
                                | ${instance.publicIp}
                            td
                                | ${instance.instanceId}
                            td
                                i.icon.large.ion-stop.clickable(
                                    if.bind="statusButtons(instance).indexOf('stop') != -1",
                                    click.delegate="stop(instance)"
                                    )
                                i.icon.large.ion-play.clickable(
                                    if.bind="statusButtons(instance).indexOf('start') != -1",
                                    click.delegate="start(instance)"
                                )
                                i.icon.large.ion-loop.clickable(
                                    if.bind="statusButtons(instance).indexOf('restart') != -1",
                                    click.delegate="restart(instance)"
                                )
                            td.right.aligned
                                i.icon.large.setting.clickable