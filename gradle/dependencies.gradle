apply plugin: 'io.spring.dependency-management'

def repos = [
        'http://repo.spring.io/snapshot',
        "$artifactory_contextUrl/libs-release",
        "$artifactory_contextUrl/libs-snapshot"
]

repositories {
    mavenLocal()
    mavenCentral()

    repos.each { repo ->
        maven { url "$repo" }
    }
}

dependencyManagement {
    imports {
        mavenBom "io.hasli.maelstrom:bom-imported:${version}"
    }
}

allprojects {

    plugins.withType(JavaPlugin) {

        task testJar(type:Jar) {
            classifier 'test'
            from sourceSets.test.output
        }


        configurations {
            tests.extendsFrom testRuntime
        }


        artifacts {
            tests testJar
        }
    }

}